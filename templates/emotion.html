{% extends 'siderbar.html' %}
{% block head %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='PageOff/assets/css/emotion.css') }}"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://www.auduno.com/clmtrackr/examples/js/libs/utils.js"></script>
<script src="https://www.auduno.com/clmtrackr/build/clmtrackr.js"></script>
<script src="https://www.auduno.com/clmtrackr/models/model_pca_20_svm.js"></script>
<script src="https://www.auduno.com/clmtrackr/examples/js/libs/Stats.js"></script>
<script src="https://www.auduno.com/clmtrackr/examples/js/libs/d3.min.js"></script>
<script src="https://www.auduno.com/clmtrackr/examples/js/emotion_classifier.js"></script>
<script src="https://www.auduno.com/clmtrackr/examples/js/emotionmodel.js"></script>

{% endblock %}
{% block body %}

<div id="content">
  <div id="container">
    <video
      id="videoel"
      width="500"
      height="400"
      preload="auto"
      loop=""
      playsinline=""
      autoplay=""
    ></video>
    <canvas id="overlay" width="500" height="400"></canvas>
    <div id="emotion_container" class="bg-gray-500">
      <div id="emotion_icons">
        <img
          class="emotion_icon"
          id="icon1"
          src="{{ url_for('static', filename='PageOff/assets/images/angry.png') }}"
        />
        <img
          class="emotion_icon"
          id="icon2"
          src="{{ url_for('static', filename='PageOff/assets/images/disgusted.png') }}"
        />
        <img
          class="emotion_icon"
          id="icon3"
          src="{{ url_for('static', filename='PageOff/assets/images/fear.png') }}"
        />
        <img
          class="emotion_icon"
          id="icon4"
          src="{{ url_for('static', filename='PageOff/assets/images/cry.png') }}"
        />
        <img
          class="emotion_icon"
          id="icon5"
          src="{{ url_for('static', filename='PageOff/assets/images/surprised.png') }}"
        />
        <img
          class="emotion_icon"
          id="icon6"
          src="{{ url_for('static', filename='PageOff/assets/images/laughing.png') }}"
        />
      </div>

      <div id="emotion_chart"></div>
    </div>
  </div>

</div>

<script src="static/js/emotionDetection.js"></script>

<script>
  window.onload = function() {
    startVideo();
  };

  function startVideo() {
    var vid = document.getElementById('videoel');
    vid.play();
    ctrack.start(vid);
    trackingStarted = true;
    drawLoop();
  }
</script>

{% endblock %}
